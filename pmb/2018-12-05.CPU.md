# CPU

##### 컴퓨터가 0과 1을을 구분하는 방법
> 전기적인 특성(전압, 전류, 저항)

* `전압`: 수압과 비슷함
	* 전압이 높음: 수위가 높은 댐안에 갇힌 물의 수압
	* 전압이 낮음: 평평한 곳에 흐르는 물의 수압

* 좁은 통로로 물이 흐름
	* 높은 수압을 가진 물이 좁은 통로로 한 번에 나가려고 하면 통로에 압력이 강해짐
	* 통로가 좁을수록 압력이 세지고 흐르는 물의 양은 줄어든다.

##### 압력:`저항`, 물의 양:`전류`에 해당
> 저항이 세지면 전류는 줄어듦

* `전압 강하` : 높은 전압을 가지고 잇다가 저항을 지나는 순간 전압이 낮아짐
	* 저항을 지나면서 전압이 낮아지는 것

* 컴퓨터가 0과 1을 인식하는 방법: 5V나 5V에 가까운 높은 전압은 1 혹은 true, 0V또는 0V에 가까운 낮은 전압은 0 혹은 false
* 컴퓨터가 상황에 따라 0과 1을 바꾸는 방법: `스위치`를 하나 설치하고 전압을 알맞은 위치에서 측정하면 스위치를 켜거나 끄면서 1과 0을 바꿀 수 있다.
* `스위치`역할을 하는 것이 `트랜지스터`

<img src='./img/트랜지스터.jpg'>

* 베이스에 전압을 공급
	* 콜렉터에서 이미터(+에서 -로) 전류가 흐름(스위치가 켜짐)
	* 베이스에 0V를 공급 > 전류가 흐르지 않음(스위치가 꺼짐)

#### 컴퓨터는 전압을 통해 0과 1을 알 수 있고, 트랜지스터는 스위치 역할을 하여 전류가 흐르거나 흐르지 않게 한다.

## 논리 게이트
> 컴퓨터에 들어가는 수많은 디지털 회로를 구성하는 가장 기본적인 요소
> 불(bool)함수를 구현하기 위한 회로

<img src='./img/AND_gate.jpg'>


* AND 게이트를 설계할 때 주의할 점은 출력 Y가 저항 이후로 설정되면 전압 강하가 생겨 0V 즉, 여전히 `거짓`

* <a href='https://ko.wikipedia.org/wiki/%EB%85%BC%EB%A6%AC_%ED%9A%8C%EB%A1%9C'>그 외 논리 회로</a>

## 조합 논리 회로와 가산기

### CPU의 구성

<img src='./img/CPU.jpg'>

* `CU(Control Unit)`: 제어 장치
	* 우리가 작성한 코드는 컴퓨터가 이해할 수 있는 기계어로 번역되어 메모리에 저장됨
	* 이후 프로그램이 실행되면 CPU는 이 명령어를 한 줄씩 읽어 들여 실행
	* 이때 어떤 명령어인지 해석, 실행하려고 할 때 CPU의 각파트에 지시를 내리는 역할
* `ALU(Arithmetic Logic Unit)`: 산술 논리 연산 장치
	* 덧셈, 뺄셈 같은 산술연산
	* AND(논리곱), OR(논리합) 같은 논리 연산을 하는곳
	* 그 외: 레지스터(CPU안에 내장된 메모리)
* 가산기 : 조합 논리 회로
* 레지스터 : 순차 논리 회로

##### 조합 논리 회로(Combinational Logic Circuit) : 현재 입력에 의해서만 출력이 결정되는 논리 회로
> 기본 게이트는 모두 조합 논리 회로

* 가산기 : ALU 내부에 위치
 * 레지스터 AX와 BX값을 입력 받음
 * 현재 4비트 CPU를 다루므로 AX와 BX 값도 4비트로 입력
 
 <img src='./img/ALU회로도.jpg'> 
 
 * 입력 AX와 BX가 덧셈 연산 후 다시 AX로 출력 됨
 * AX에서 A는 Accumulator로 `값을 축적해 나가는`레지스터

### 가산기

* 가산기에는 비트 두 개만 더하는 반가산기(half-adder)
* 캐리(carry)까지 연산에 포함하는 전가산기(full-adder)
* 전가산기는 반가산기 두 개와 OR 게이트 한 개로 이루어짐

##### 반가산기

<img src='./img/반가산기.png'>

##### 전가산기

<img src='./img/가산기.png'>

`CI`: Carry In
`CO`: Carry Out

`Carry`: 받아올림 수

* A와 B에 각각 1이 들어올 경우
 * 같은 자릿수끼리 더해 윗자리로 수를 올려줘야 하는 것을 받아올림(carrying)
 * 출력 회로가 두 개라면 1과 0을 각각 출력하겠지만, 출력 회로는 하나뿐
 * 이런 상황에서는 출력 회로에서 아랫자리 수인 0을 출력하고, 윗자리 수인 1은 Carry Out을 통해 출력, 이때 이 윗자리 수를 캐리(받아올림 수)라고 함

##### 덧셈이나 뺄셈 등을 포함한 ALU(산술 논리 장치) 연산은 현재 출력이 오로지 현재 입력에 의해서만 결정된다는 특징이 있음

### 순차 논리 회로와 레지스터
> 현재의 출력이 현재의 입력과 과거의 출력에 따라 정해지는 논리 회로

* AND게이트의 출력 값을 반전시키면 NAND게이트
* 출력이 분기되어 다시 입력으로 들어오는 것
* 입력이 바뀌었다고 해서 출력이 바로 바뀌는 것이 아니라 특정 상황이 되었을 때만 바뀐다는 점과 이를 통해 이전 출력 값이 `유지`된다는 점
* 출력 값이 유지 된다는 특성을 다르게 표현하면 `저장`된다고 할 수 있음
* 플립플롭을 메모리 소자 즉, 메모리를 구성하는 기본 단위라고 부름
* CPU 안에 있는 레지스터는 사실 많은 플립플롭의 묶음

## 클록

* `주파수` : 진자가 1초 동안 왕복한 횟수

* `주기` : 진자가 1초동안 두 번왕복했다 or 진자가 한 번 왕복하는 데 0.5초가 걸린다라고 표현


